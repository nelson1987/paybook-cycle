version: '3.4'

services:        
    mongo-express:
      image: mongo-express
      restart: always
      ports:
        - 8081:8081
      environment:
        ME_CONFIG_MONGODB_ADMINUSERNAME: root
        ME_CONFIG_MONGODB_ADMINPASSWORD: example
        ME_CONFIG_MONGODB_URL: mongodb://root:example@mongo:27017/

    mongo:
      image: mongo
      command: mongod --auth
      environment:
        MONGO_INITDB_ROOT_USERNAME: root
        MONGO_INITDB_ROOT_PASSWORD: example
      ports:
        - 27017:27017
      volumes:
        - ./scripts/mongo-init.sh:/docker-entrypoint-initdb.d/mongo-init.sh:ro
        #- ./.db/mongo1:/data/db
        # #- ./wait-for-mongodb.sh:/scripts/wait-for-mongodb.sh
        #- ./ssl:/data/ssl
        #- ./config:/data/config